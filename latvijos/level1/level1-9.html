<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="../css/bootstrap.min.css"
        rel="stylesheet">
    <link href="../css/style.css"
        rel="stylesheet">
</head>
<style>
    @import url('https://fonts.googleapis.com/css?family=Lekton:700&subset=latin-ext');
    #preview {
        font-family: Lekton;
        font-size: 12px;
        color: black;
    }

    #doclist {
        position: absolute;
        height: 100%;
        width: 100%;
        padding: 16px;
        z-index: 2;
    }
</style>

<body>
    <div class='customAlert'>
        <p class='message'></p>
        <input type='button'
            class='confirmButton'
            value='Gerai'>
    </div>
    <div class="container-fluid header-top">
        <a href="../index.html">
            <img class="header_logo img-fluid" src="../img_lessons/100_small1.png">
        </a>
        <div class="progress-container">
            <ul style="text-align: center;">
                <li>
                    <a href="level1-1.html">1</a>
                </li>
                <li>
                    <a href="level1-2.html">2</a>
                </li>
                <li>
                    <a href="level1-3.html">3</a>
                </li>
                <li>
                    <a href="level1-4.html">4</a>
                </li>
                <li>
                    <a href="level1-5.html">5</a>
                </li>
                <li>
                    <a href="level1-6.html">6</a>
                </li>
                <li>
                    <a href="level1-7.html">7</a>
                </li>
                <li>
                    <a href="level1-8.html">8</a>
                </li>
                <li>
                    <a class="active"
                        href="level1-9.html">9</a>
                </li>
                <li>
                    <a href="level1-10.html">10</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="container-fluid working-space">
        <div class="row"
            style="padding: 10px;">
            <div class="col-md-5">
                <h4>9. Latvijas cilvēku superspējas</h4>
            </div>
            <div class=" col-md-7"
                id="task">
                Kāda ķeza! Latviešu izgudrotāju un zinātnieku un viņu sasniegumu saraksts tika sajaukts un kļuva par teksta jūkli, visi darbi ir atdalīti ar semikolu. Palīdzi atsiet mezglu un to labot, izveidojot sarakstu no senākā līdz jaunākajam sasniegumam. Izvēlies
                senāko darbu, uzklikšķinot uz tā.
            </div>
        </div>
        <div class="row"
            style="padding: 10px">
            <div class="col  ">
                <div id="preview">
                    <canvas id="canvas"
                        width="490"
                        height="330">
                        This text is displayed if your browser does not support HTML5 Canvas.
                    </canvas>
                    <div id="doclist">
                    </div>
                    <div id="m-background">
                        <div id="m-finished"></div>
                    </div>
                </div>
                <div class="button-panel">
                    <button class="button-run btn btn-lg btn-secondary"
                        onclick="runCode()">Starts </button>
                    <div class="hint-panel">
                        <ul> Norāde:
                            <li>
                                <a tabindex="0"
                                    style="width: 58px;"
                                    href="javascript:void(0)"
                                    data-toggle="popover"
                                    data-placement="top"
                                    data-trigger="focus"
                                    title=""
                                    data-text='Sakārto tekstu sarakstā.'>1</a>
                            </li>
                            <li>
                                <a tabindex="0"
                                    style="width: 58px;"
                                    href="javascript:void(0)"
                                    data-toggle="popover"
                                    data-placement="top"
                                    data-trigger="focus"
                                    title=""
                                    data-text="Sakārto latviešu radītos darbus no senākā līdz jaunākajam.">2</a>
                            </li>
                            <li>
                                <a tabindex="0"
                                    style="width: 58px;"
                                    href="javascript:void(0)"
                                    data-toggle="popover"
                                    data-placement="top"
                                    data-trigger="focus"
                                    title=""
                                    data-text="Parādi sarakstu uz ekrāna un uzklikšķini senākajam – Latvijas dibināšana.">3</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col"
                style="padding: 0 ;">
                <div id="blocklyDiv">
                </div>
                <xml id="toolbox"
                    style="display: none">
                    <category name="Teksts"
                        colour="160">
                        <block type="text">
                            <field name="TEXT"> 2016 - Projektēja Šaoliņas Lidojošo mūku templi un pasaulē pirmo vēja tuneli amfiteātri "Lidojošais sapnis" Ķīnā; 
                                1993 - Datorzinātnieks Juris Hartmanis - Saņēma Tjūringa (Turing) balvu par izgudrojumiem datorzinātnē; 
                                2013 - Matemātiķe Daina Taimina - Izgudroja metodi, kā ar tamborēšanu attēlot hiperbolisku plakni, un uzstādīja Ginesa pasaules rekordu; 
                                1918 - Latvijas Tautas padome - Izveidoja Latvijas Republiku; 
                                1936 - Izgudrotājs Valters Caps - Izgudroja miniatūru "Minox" fotokameru; 
                                1965 - Zinātniece Aina Muceniece - Pētīja un izgudroja zāles vēža ārstēšanai;
                            </field>
                        </block>
                        <block type="spausdinti"></block>
                    </category>
                    <category name="Saraksti"
                        colour="260">
                        <block type="lists_split">
                            <value name="DELIM">
                                <shadow type="text">
                                    <field name="TEXT">,</field>
                                </shadow>
                            </value>
                        </block>
                        <block type="lists_sort"></block>
                    </category>
                    <category name="Mainīgie"
                        colour="330">
                        <block type="v_dokumentai"></block>
                        <block type="set_v"></block>
                    </category>
                </xml>
            </div>
            <div class="col-md-3 col-lg-2"
                style="height: 70vh;">
                <h5>Javascript kods: </h5>
                <pre id="content_javascript">
				</pre>
            </div>
        </div>
        <div class="next-modal">
            <div class="modal fade"
                id="nextModal"
                tabindex="-1"
                role="dialog"
                aria-labelledby="nextModalLabel">
                <div class="modal-dialog"
                    role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div>
                                <h3>Atsirado!</h3>
                            </div>
                            <div class="modal-buttons">
                                <a href="#"
                                    class="btn btn-secondary"
                                    data-dismiss="modal">Doties atpakaļ uz uzdevumu</a>
                                <a href="level1-10.html"
                                    class="btn btn-secondary">Nākamais uzdevums</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/blockly_compressed.js"></script>
    <script src="../js/javascript_compressed.js"></script>
    <script src="../js/blocks_compressed.js"></script>
    <script src="../msg/js/lv.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/invent.js"></script>
    <script type="text/javascript">
        var my_canvas = document.getElementById("canvas");
        var ctx = my_canvas.getContext("2d");
    </script>
    <script>
        var workspace = Blockly.inject('blocklyDiv', {
            toolbox: document.getElementById('toolbox'),
            grid: {
                spacing: 20,
                length: 5,
                colour: '#f2f2f2',
                snap: true
            },
            trashcan: true
        });

        function toJavascript(event) {
            var code = Blockly.JavaScript.workspaceToCode(workspace);
            document.getElementById('content_javascript').innerHTML = code;
        }
        workspace.addChangeListener(toJavascript);
    </script>
    <script type="text/javascript">
        // var inventors = ["People's Council of Latvia","Inventor Valters Caps","Scientist Aina Muceniece","Computer scientist Juris Hartmanis","Mathematician Daina Taimina","Architect Austris Mailītis"];
        document.getElementById('doclist').innerHTML = "";
        // for (var i = 0; i < inventors.length; i++) {

        document.getElementById('doclist').innerHTML += "2016 - Architect Austris Mailītis - Shaolin Flying Monks Temple, world's first flight wind tunnel – amphitheatre, “Flying Dream”, China; 1993 - Computer scientist Juris Hartmanis - Turing Award for invention in the computer science; 2013 - Mathematician Daina Taimina - Guinness World Records Crocheting of the hyperbolic planes; 1918 - People's Council of Latvia - The Republic of Latvia established; 1936 - Inventor Valters Caps - Minox miniature camera; 1965 - Scientist Aina Muceniece - Medicine for cancer RIGVIR";
        // }

        function runCode() {
            // Generate JavaScript code and run it.
            $('#m-finished').hide();
            $('#doclist').show();
            window.LoopTrap = 1000;
            Blockly.JavaScript.INFINITE_LOOP_TRAP =
                'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
            var code = Blockly.JavaScript.workspaceToCode(workspace);
            Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
            try {
                if (code.length > 0) {
                    eval(code);
                } else {
                    alert('Pievienot bloku.');
                }

            } catch (e) {
                alert('Kļūda! Lūdzu, pārbaudi blokus');
            }
        }

        $('#doclist').on("click", "div", function() {
            if ($(this).attr("class") == 'text0' && $(' div.text0:contains("1918")').length > 0) {
                $('#m-finished').show();
                $('#doclist').hide();
                setTimeout(function() {
                    $('#nextModal').modal('show');
                }, 2000);
            }
        })
    </script>
</body>

</html>