<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
</head>
<style>
@import url('https://fonts.googleapis.com/css?family=Lekton:700&subset=latin-ext');
#preview {
    font-family: Lekton;
    font-size: 12px;
    color: black;
}

#doclist {
    position: absolute;
    height: 100%;
    width: 100%;
    z-index: 2;
}
</style>

<body>
    <div class='customAlert'>
        <p class='message'></p>
        <input type='button' class='confirmButton' value='Gerai'>
    </div>
    <div class="container-fluid header-top">
        <a href="../index.html"><img class="header_logo img-fluid" src="../img_lessons/100_small1.png"></a>
        <div class="progress-container">
            <ul style="text-align: center;">
                <li>
                    <a href="level2-1.html">1</a>
                </li>
                <li>
                    <a href="level2-2.html">2</a>
                </li>
                <li>
                    <a href="level2-3.html">3</a>
                </li>
                <li>
                    <a href="level2-4.html">4</a>
                </li>
                <li>
                    <a href="level2-5.html">5</a>
                </li>
                <li>
                    <a href="level2-6.html">6</a>
                </li>
                <li>
                    <a href="level2-7.html">7</a>
                </li>
                <li>
                    <a href="level2-8.html">8</a>
                </li>
                <li>
                    <a class="active" href="level2-9.html">9</a>
                </li>
                <li>
                    <a href="level2-10.html">10</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="container-fluid working-space">
        <div class="row" style="padding: 10px;">
            <div class="col-md-5">
                <h4>9. Liudas Mažylis: adata Berlyno kupetoje</h4></div>
            <div class=" col-md-7" id="task">Vasario 16-osios nutarimo originalas pasimetė archyve, jį būtina atrasti. Archyve tau pateikė tik nerišlų tekstą su įvairių dokumentų pavadinimais. Jei tekstą paversi sąrašu ir jame rasi visus dokumentus su 1918 m. data, rasti bus daug paprasčiau. Tau reikės:
                <ul>
                    <li>- tekstą paversti sąrašu;</li>
                    <li>- surūšiuoti dokumentus pagal datą, didėjančia tvarka ;</li>
                    <li>- rasti pirmą ir paskutinį įrašą su 1918 m. data;</li>
                    <li>- suformuoti galutinį sąrašą, atrenkant tik dokumentus, esančius tarp šių įrašų;</li>
                    <li>- sąrašą atvaizduoti ekrane.</li>
                </ul>
                <a href="javascript:void(0)" onclick="changeVideo('F-gF4n5ZN7M')">Užduoties video</a> </div>
        </div>
        <div class="row" style="padding: 10px">
            <div class="col  ">
                <div id="preview">
                    <canvas id="canvas" width="490" height="330">
                        This text is displayed if your browser does not support HTML5 Canvas.
                    </canvas>
                    <div id="doclist">
                    </div>
                    <div id="m-background">
                        <div id="m-finished"></div>
                    </div>
                </div>
                <div class="button-panel">
                    <button class="button-run btn btn-lg btn-secondary" onclick="runCode()">Paleisti </button>
                    <div class="hint-panel">
                        <ul> Užuomina:
                            <li>
                                <a tabindex="0" style="width: 58px;" href="javascript:void(0)" data-toggle="popover" data-placement="top" data-trigger="focus" title="" data-text="Tai visų dokumentų pavadinimai, kurie turi pavirsti tvarkingu sąrašu. Atkreipk dėmesį, koks skyrybos ženklas skiria vieno dokumento pavadinimą nuo kito - jis ir yra skirtukas. " data-full="../hints/L1T9_H1.png">1</a>
                            </li>
                            <li>
                                <a tabindex="0" style="width: 58px;" href="javascript:void(0)" data-toggle="popover" data-placement="top" data-trigger="focus" title="" data-text="Kintamasis - tai lyg dėžutė su pavadinimu, kurioje galime saugoti tekstą arba skaičius. Kiekvieną kuriamą sąrašą ar ieškomą įrašą saugok skirtingame kintamąjame: „dokumentai“, „sąrašas pagal datą“ ir kt. Šitaip būsime tikri, kad nieko nepametėme. " data-full="../hints/L2T9_H2.png">2</a>
                            </li>
                            <li>
                                <a tabindex="0" style="width: 58px;" href="javascript:void(0)" data-toggle="popover" data-placement="top" data-trigger="focus" title="" data-text="Atrinktą dokumentų sąrašą būtina parodyti ekrane ir spustelėti ant ieškoto dokumento pavadinimo. Jį atrasti padės dokumento data. " data-full="../hints/L2T9_H3.png">3</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col" style="padding: 0 ;">
                <div id="blocklyDiv">
                </div>
                <xml id="toolbox" style="display: none">
                    <category name="Tekstas" colour="160">
                        <block type="text">
                        </block>
                        <block type="text">
                            <field name="TEXT"> 6. 1917-07-19. Die Interpretation der Friedensresolution durch Kanzler Michaelis; 1. 1886-12-09. Alfred Lichtwark, Antrittsrede als Direktor der Hamburger Kunsthalle; 15. 2015-11-15. Der weite Weg zur Gleichberechtigung; 10. 1918-08-16. Die Zukunft der baltischen Provinzen: Litauen; 4. 1907-01-01. Die Wahrnehmung der deutschen Außenpolitik in England; 5. 1917-04-07. Wilhelms „Osterbotschaft”; 13. 1919-11-28. Albert Einstein, „Was ist Relativitäts-Theorie?”; 2. 1898-03-06. Ein „ungleicher Vertrag”; 9. 1918-02-16. Die Zukunft der baltischen Provinzen: Litauen; 8. 1917-12-20. Die Zukunft der baltischen Provinzen: Litauen; 14. 2004-04-01. Deutsche Urlaubsgewohnheiten; 11. 1918-10-03. Die erste deutsche Note an Wilson; 3. 1900-09-24. Das Reichsmarineamt und die öffentliche Meinung; 12. 1918-12-01. Die Zukunft der baltischen Provinzen: Litauen; 7. 1917-07-19. Die Friedensresolution des Reichstags</field>
                        </block>
                        <!--  <block type="text_print"></block> -->
                        <block type="spausdinti"></block>
                    </category>
                    <category name="Sąrašai" colour="260">
                        <block type="lists_getSublist">
                        </block>
                        <block type="list_includes2"></block>
                        <block type="lists_split">
                            <value name="DELIM">
                                <shadow type="text">
                                    <field name="TEXT">,</field>
                                </shadow>
                            </value>
                        </block>
                        <block type="lists_sort"></block>
                    </category>
                    <category name="Kintamieji" colour="330">
                        <block type="v_dokumentai"></block>
                        <block type="set_v2"></block>
                    </category>
                </xml>
            </div>
            <div class="col-md-3 col-lg-2" style="height: 70vh;">
                <h5>Javascript kodas: </h5>
                <pre id="content_javascript">
                </pre>
            </div>
        </div>
        <div class="row">
            <div class="logo-row"><img src="../100/logo13.png"><img src="../100/logo12.png"><img src="../100/logo14.png"></div>
        </div>
        <div class="video-modal">
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <iframe id="iframeYoutube" width="100%" height="315" src="https://www.youtube.com/embed/F-gF4n5ZN7M" frameborder="0" allowfullscreen></iframe>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Uždaryti</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="next-modal">
            <div class="modal fade" id="nextModal" tabindex="-1" role="dialog" aria-labelledby="nextModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div>
                                <h3>Atsirado!</h3>
                            </div>
                            <div class="modal-buttons">
                                <a href="#" class="btn btn-secondary" data-dismiss="modal">Grįžti į užduotį</a>
                                <a href="level2-10.html" class="btn btn-secondary">Kita užduotis</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/blockly_compressed.js"></script>
    <script src="../js/javascript_compressed.js"></script>
    <script src="../js/blocks_compressed.js"></script>
    <script src="../msg/js/lt.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/mazylis.js"></script>
    <script type="text/javascript">
    var my_canvas = document.getElementById("canvas");
    var ctx = my_canvas.getContext("2d");
    </script>
    <script>
    var workspace = Blockly.inject('blocklyDiv', {
        toolbox: document.getElementById('toolbox'),
        grid: {
            spacing: 20,
            length: 5,
            colour: '#f2f2f2',
            snap: true
        },
        trashcan: true
    });

    function toJavascript(event) {
        var code = Blockly.JavaScript.workspaceToCode(workspace);
        document.getElementById('content_javascript').innerHTML = code;
    }
    workspace.addChangeListener(toJavascript);
    </script>
    <script type="text/javascript">
    function runCode() {
        // Generate JavaScript code and run it.
        $('#m-finished').hide();
        $('#doclist').show();
        window.LoopTrap = 1000;
        Blockly.JavaScript.INFINITE_LOOP_TRAP =
            'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
        var code = Blockly.JavaScript.workspaceToCode(workspace);
        Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
        try {
            if (code.length > 0) {
                eval(code);
            } else {
                alert('Pridėk kodo blokelį.');
            }

        } catch (e) {
            alert('Klaida! Patikrink blokelius');
        }
    }

    $('#doclist').on("click", "div", function() {
        if ($(' div.' + $(this).attr("class") + ':contains("1918-02-16")').length > 0) {
            $('#m-finished').show();
            $('#doclist').hide();
            setTimeout(function() { $('#nextModal').modal('show'); }, 2000);
        }
    })
    </script>
</body>

</html>